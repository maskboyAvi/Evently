@startuml Architecture
skinparam shadowing false
skinparam componentStyle rectangle
title Evently High-Level Architecture

actor User
actor Admin

rectangle "API (Spring Boot)" as API {
  [Controllers]\nREST + Swagger
  [Services]\nBusiness Logic
  [Security]\nJWT Filter + RBAC
  [Events]\n(Internal Domain Events)
  [Analytics]\nAggregations
}

database "PostgreSQL" as PG {
  [users]
  [events]
  [bookings]
  [seats]
  [waitlist]
}

cloud "(Future) Cache" as Cache
queue "(Future) Notification Queue" as Q

User --> API : Browse / Book
Admin --> API : Manage / Analytics
API --> PG : CRUD + Optimistic Locking
API --> Cache : (future) hot reads
API --> Q : (future) publish promotion events

note right of API
Optimistic locking on Event
Retry strategy for contention
Waitlist auto-promotion
Seat-level booking
JWT stateless auth
end note

@enduml
